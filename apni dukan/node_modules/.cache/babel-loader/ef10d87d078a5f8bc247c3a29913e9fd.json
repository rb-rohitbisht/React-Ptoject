{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Dell\\\\Desktop\\\\React-project\\\\apni dukan\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\Dell\\\\Desktop\\\\React-project\\\\apni dukan\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Dell\\\\Desktop\\\\React-project\\\\apni dukan\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Dell\\\\Desktop\\\\React-project\\\\apni dukan\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Dell\\\\Desktop\\\\React-project\\\\apni dukan\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Dell\\\\Desktop\\\\React-project\\\\apni dukan\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{storeProducts,detailProduct}from'./data';// import axios from 'axios';/\nvar context=React.createContext();var Provider=context.Provider;export var Consumer=context.Consumer;var ProductProvider=/*#__PURE__*/function(_Component){_inherits(ProductProvider,_Component);var _super=_createSuper(ProductProvider);function ProductProvider(){var _this;_classCallCheck(this,ProductProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={auth:false,products:[],detailProduct:[],cart:[],modelOpen:false,modelProduct:detailProduct,cartSubTotal:0,cartText:0,cartTotal:0};_this.setProducts=function(){var tempProduct=[];storeProducts.forEach(function(item){var singleItem=_objectSpread({},item);tempProduct=[].concat(_toConsumableArray(tempProduct),[singleItem]);});_this.setState({products:tempProduct});};_this.getItem=function(id){var product=_this.state.products.find(function(item){return item.id===id;});return product;};_this.handelDetail=function(id){var product=_this.getItem(id);_this.setState({detailProduct:product});};_this.addToCart=function(id){var tempProduct=_toConsumableArray(_this.state.products);var index=tempProduct.indexOf(_this.getItem(id));var product=tempProduct[index];product.inCart=true;product.count=1;var price=product.price;product.total=price;_this.setState(function(){return{products:tempProduct,cart:[].concat(_toConsumableArray(_this.state.cart),[product])};},function(){_this.addTotal();});};_this.openModel=function(id){var product=_this.getItem(id);_this.setState({modelProduct:product,modelOpen:true});};_this.closeModel=function(){_this.setState({modelOpen:false});};_this.incremant=function(id){var tempCart=_toConsumableArray(_this.state.cart);var selectedProduct=tempCart.find(function(item){return item.id===id;});var index=tempCart.indexOf(selectedProduct);var product=tempCart[index];product.count+=1;product.total=product.count*product.price;_this.setState({cart:_toConsumableArray(tempCart)},function(){return _this.addTotal();});};_this.decrement=function(id){var tempCart=_toConsumableArray(_this.state.cart);var selectedProduct=tempCart.find(function(item){return item.id===id;});var index=tempCart.indexOf(selectedProduct);var product=tempCart[index];product.count-=1;if(product.count===0){_this.removeItem(id);}else{product.total=product.count*product.price;_this.setState({cart:_toConsumableArray(tempCart)},function(){return _this.addTotal();});}};_this.removeItem=function(id){var tempProducts=_toConsumableArray(_this.state.products);var tempCart=_toConsumableArray(_this.state.cart);tempCart=tempCart.filter(function(item){return item.id!==id;});var index=tempProducts.indexOf(_this.getItem(id));var removedProduct=tempProducts[index];removedProduct.inCart=false;removedProduct.count=0;removedProduct.total=0;_this.setState({cart:_toConsumableArray(tempCart),products:_toConsumableArray(tempProducts)},function(){return _this.addTotal();});};_this.clearCart=function(){_this.setState({cart:[]},function(){_this.setProducts();_this.addTotal();});};_this.addTotal=function(){var subtotal=0;_this.state.cart.map(function(item){return subtotal+=item.total;});var tempTax=subtotal*0.1;var tax=parseFloat(tempTax.toFixed(2));var total=subtotal+tax;_this.setState({cartSubTotal:subtotal,cartText:tax,cartTotal:total});};return _this;}_createClass(ProductProvider,[{key:\"componentDidMount\",value:function componentDidMount(){this.setProducts();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Provider,{value:{auth:this.state.auth,products:this.state.products,addToCart:this.addToCart,handelDetail:this.handelDetail,detailProduct:this.state.detailProduct,openModel:this.openModel,closeModel:this.closeModel,modelOpen:this.state.modelOpen,modelProduct:this.state.modelProduct,increment:this.incremant,decrement:this.decrement,removeItem:this.removeItem,clearCart:this.clearCart,cart:this.state.cart,cartSubTotal:this.state.cartSubTotal,cartText:this.state.cartText,cartTotal:this.state.cartTotal}},this.props.children);}}]);return ProductProvider;}(Component);export default ProductProvider;","map":{"version":3,"sources":["C:/Users/Dell/Desktop/React-project/apni dukan/src/context.js"],"names":["React","Component","storeProducts","detailProduct","context","createContext","Provider","Consumer","ProductProvider","state","auth","products","cart","modelOpen","modelProduct","cartSubTotal","cartText","cartTotal","setProducts","tempProduct","forEach","item","singleItem","setState","getItem","id","product","find","handelDetail","addToCart","index","indexOf","inCart","count","price","total","addTotal","openModel","closeModel","incremant","tempCart","selectedProduct","decrement","removeItem","tempProducts","filter","removedProduct","clearCart","subtotal","map","tempTax","tax","parseFloat","toFixed","increment","props","children"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\nimport { storeProducts , detailProduct } from './data';\r\n// import axios from 'axios';/\r\n\r\nconst context = React.createContext()\r\n\r\nconst Provider = context.Provider\r\nexport const Consumer = context.Consumer\r\n\r\nclass ProductProvider extends Component {\r\n    state = { \r\n        auth: false,\r\n        products:[],\r\n        detailProduct: [],\r\n        cart:[],\r\n        modelOpen: false,\r\n        modelProduct : detailProduct,\r\n        cartSubTotal:0,\r\n        cartText:0,\r\n        cartTotal:0,\r\n     }\r\n    \r\n\r\n\r\n     componentDidMount(){\r\n        this.setProducts()\r\n      \r\n    }\r\n\r\n    setProducts=()=>{\r\n        let tempProduct=[];\r\n        storeProducts.forEach(item=>{\r\n            const singleItem = {...item};\r\n            tempProduct=[...tempProduct, singleItem];\r\n        });\r\n        this.setState({products: tempProduct })\r\n    }\r\n\r\n    getItem=(id)=>{\r\n        const product = this.state.products.find(item=> item.id === id);\r\n        return product;\r\n    }\r\n\r\n    handelDetail = (id)=>{\r\n        const product = this.getItem(id);\r\n        this.setState({ detailProduct : product})\r\n    }\r\n\r\n    addToCart=(id)=>{\r\n        let tempProduct = [...this.state.products];\r\n        const index= tempProduct.indexOf(this.getItem(id));\r\n        const product = tempProduct[index];\r\n        product.inCart = true ;\r\n        product.count = 1;\r\n        const price = product.price;\r\n        product.total = price;\r\n        this.setState(()=>{\r\n            return { products : tempProduct , cart:[...this.state.cart , product]}\r\n        },()=>{this.addTotal()})\r\n    }\r\n\r\n    openModel=(id)=>{\r\n        const product = this.getItem(id);\r\n        this.setState({modelProduct : product , modelOpen : true })\r\n    }\r\n\r\n    closeModel=()=>{\r\n        this.setState({modelOpen: false})\r\n    }\r\n\r\n    incremant = (id)=>{\r\n       let tempCart = [...this.state.cart]\r\n       const selectedProduct = tempCart.find(item=>item.id === id)\r\n       const index = tempCart.indexOf(selectedProduct)\r\n       const product = tempCart[index];\r\n\r\n       product.count += 1;\r\n       product.total = product.count * product.price;\r\n\r\n   \r\n       this.setState({cart:[...tempCart]},()=>this.addTotal())\r\n    }\r\n\r\n    decrement=(id)=>{\r\n        let tempCart = [...this.state.cart]\r\n        const selectedProduct = tempCart.find(item=>item.id === id)\r\n        const index = tempCart.indexOf(selectedProduct)\r\n        const product = tempCart[index];\r\n \r\n        product.count -= 1;\r\n\r\n        if(product.count === 0 ){\r\n            this.removeItem(id)\r\n        }\r\n     else{\r\n        product.total = product.count * product.price;\r\n \r\n        this.setState({cart:[...tempCart]},()=>this.addTotal())\r\n     }\r\n       \r\n    }\r\n\r\n    removeItem =(id)=>{\r\n       let tempProducts=[...this.state.products]\r\n       let tempCart = [...this.state.cart]\r\n       \r\n       tempCart = tempCart.filter(item => item.id !== id);\r\n       const index = tempProducts.indexOf(this.getItem(id));\r\n       let removedProduct = tempProducts[index];\r\n       removedProduct.inCart = false;\r\n       removedProduct.count = 0;\r\n       removedProduct.total = 0;\r\n\r\n       this.setState({\r\n           cart: [...tempCart],\r\n           products : [...tempProducts]\r\n       },()=>this.addTotal())\r\n    }\r\n\r\n    clearCart=()=>{\r\n        this.setState({cart : []},\r\n            ()=>{this.setProducts();\r\n            this.addTotal()})\r\n    }\r\n\r\n    addTotal=()=>{\r\n        let subtotal=0;\r\n        this.state.cart.map(item=>(subtotal += item.total));\r\n        const tempTax = subtotal * 0.1;\r\n        const tax = parseFloat(tempTax.toFixed(2));\r\n        const total = subtotal + tax;\r\n        this.setState({ cartSubTotal : subtotal, cartText: tax , cartTotal : total })\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <Provider \r\n            value={{\r\n            auth: this.state.auth,    \r\n            products: this.state.products,\r\n             addToCart : this.addToCart,\r\n             handelDetail: this.handelDetail,\r\n             detailProduct : this.state.detailProduct,\r\n             openModel : this.openModel,\r\n             closeModel: this.closeModel,\r\n             modelOpen: this.state.modelOpen,\r\n             modelProduct: this.state.modelProduct,\r\n             increment: this.incremant,\r\n             decrement:this.decrement,\r\n             removeItem:this.removeItem,\r\n             clearCart:this.clearCart,\r\n             cart: this.state.cart,\r\n             cartSubTotal:this.state.cartSubTotal,\r\n             cartText:this.state.cartText,\r\n             cartTotal:this.state.cartTotal,\r\n             }} >\r\n                {this.props.children}\r\n            </Provider>\r\n          );\r\n    }\r\n}\r\n \r\nexport default ProductProvider;"]},"metadata":{},"sourceType":"module"}